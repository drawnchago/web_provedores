<div fxLayout="row wrap">
    <div fxFlex="100">
        <mat-card>
            <mat-card-content>
                <form [formGroup]="filterForm">
                    <div fxLayout="row wrap" fxLayoutGap="10px" class="align-items-center">
                        <div fxFlex.gt-md="15" fxFlex.gt-lg="15" fxFlex="100">
                            <mat-form-field>
                                <mat-label>Desde...</mat-label>
                                <input matInput [matDatepicker]="start_date" formControlName="start_date">
                                <mat-datepicker-toggle matSuffix [for]="start_date"></mat-datepicker-toggle>
                                <mat-datepicker #start_date></mat-datepicker>
                            </mat-form-field>
                        </div>
                        <div fxFlex.gt-md="15" fxFlex.gt-lg="15" fxFlex="100">
                            <mat-form-field>
                                <mat-label>Hasta...</mat-label>
                                <input matInput [matDatepicker]="end_date" formControlName="end_date">
                                <mat-datepicker-toggle matSuffix [for]="end_date"></mat-datepicker-toggle>
                                <mat-datepicker #end_date></mat-datepicker>
                            </mat-form-field>
                        </div>
                        <div fxFlex.gt-md="25" fxFlex.gt-lg="25" fxFlex="100">
                            <mat-form-field>
                                <input matInput (keyup)="applyFilter($event.target.value)"
                                    placeholder="Buscar cotización" formControlName="search">
                            </mat-form-field>
                        </div>
                        <div fxFlex.gt-md="40" class="text-right">
                            <button mat-raised-button (click)="openDialog('Nueva',null)" color="primary">Nueva
                                Cotización</button>
                        </div>
                    </div>
                </form>
            </mat-card-content>
        </mat-card>
    </div>
</div>
<div fxLayout="row wrap">
    <div fxFlex="100">
        <mat-card>
            <mat-card-content>
                <div class="table-responsive">
                    <table mat-table [dataSource]="dataSource" class="table">
                        <ng-container matColumnDef="name">
                            <th mat-header-cell *matHeaderCellDef> Folio </th>
                            <td mat-cell *matCellDef="let element"> {{element.id}} </td>
                        </ng-container>

                        <ng-container matColumnDef="created_at">
                            <th mat-header-cell *matHeaderCellDef> Feha </th>
                            <td mat-cell *matCellDef="let element"> {{element.updated_at | date}} </td>
                        </ng-container>

                        <ng-container matColumnDef="customer">
                            <th mat-header-cell *matHeaderCellDef> Cliente </th>
                            <td mat-cell *matCellDef="let element"> {{element.customer.name}} </td>
                        </ng-container>

                        <ng-container matColumnDef="contact">
                            <th mat-header-cell *matHeaderCellDef> Contacto </th>
                            <td mat-cell *matCellDef="let element"> {{element.contact}} </td>
                        </ng-container>

                        <ng-container matColumnDef="phone">
                            <th mat-header-cell *matHeaderCellDef> Teléfono </th>
                            <td mat-cell *matCellDef="let element"> {{element.telephone}} </td>
                        </ng-container>

                        <ng-container matColumnDef="subtotal">
                            <th mat-header-cell *matHeaderCellDef> Subtotal </th>
                            <td mat-cell *matCellDef="let element"> {{element.subtotal | currency}} </td>
                        </ng-container>

                        <ng-container matColumnDef="iva">
                            <th mat-header-cell *matHeaderCellDef> IVA </th>
                            <td mat-cell *matCellDef="let element"> {{element.iva | currency}} </td>
                        </ng-container>

                        <ng-container matColumnDef="total">
                            <th mat-header-cell *matHeaderCellDef> Total </th>
                            <td mat-cell *matCellDef="let element"> {{element.total | currency}} </td>
                        </ng-container>

                        <ng-container matColumnDef="created_by">
                            <th mat-header-cell *matHeaderCellDef> Creada por </th>
                            <td mat-cell *matCellDef="let element"> {{element.created}} </td>
                        </ng-container>

                        <ng-container matColumnDef="actions">
                            <th mat-header-cell *matHeaderCellDef> Acciones </th>
                            <td mat-cell *matCellDef="let element">
                                <button mat-icon-button matTooltip="Editar" [matTooltipPosition]="'above'"
                                    (click)="openDialog('Editar',element)" mat-mini-fab color="primary">
                                    <mat-icon color="blue">mode_edit</mat-icon>
                                </button>
                                <button *ngIf="false" mat-icon-button matTooltip="Eliminar" [matTooltipPosition]="'above'"
                                    (click)="dialogDelete(element)" mat-mini-fab color="warn">
                                    <mat-icon>delete</mat-icon>
                                </button>
                            </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    </table>
                    <mat-paginator #paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
                </div>
            </mat-card-content>
        </mat-card>
    </div>
</div>